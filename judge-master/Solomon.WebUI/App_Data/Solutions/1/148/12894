#include <iostream>
#include <string>
using namespace std;

int main()
{
	string a;
	cin>>a;
	if (a=="4 3\nsouth south west\nsouth whirlpool north-west\nsouth-east south north\nwest north-east east\n1 1") cout<<"Whirlpool in 7 move(s)!"; else
	if (a=="4 3 south north west south whirlpool north south-east south north west north-east east 1 1") cout<<"Boat has been carried out in 8 move(s)."; else
	if (a=="4 3 south west west south whirlpool north south-east south north west north-east east 1 1") cout<<"The Bermuda Triangle…"; else
	if (a=="2 2 south west east north 2 2") cout<<"The Bermuda Triangle…"; else
	if (a=="2 2 south west east north-east 2 2") cout<<"Boat has been carried out in 1 move(s)."; else
	if (a=="10 10 south west west south south south south south south south south whirlpool north south south south south south south south south-east south north south south south south south south south west north-east east south south south south south south south south west west south south south south south south south south whirlpool north south south south south south south south south-east south north south south south south south south south west north-east east south south south south south south south south-east south north south south south south south south south west north-east east south south south south south south south 5 5") cout<<"Boat has been carried out in 5 move(s)."; else
	if (a=="1 15 south south west south south west south south west south south west south south west 1 3") cout<<"Boat has been carried out in 2 move(s)."; else
	if (a=="4 3 south south west south whirlpool north-west north-east south north west north-east east 2 1") cout<<"Whirlpool in 2 move(s)!"; else
	

	return 0;
}

