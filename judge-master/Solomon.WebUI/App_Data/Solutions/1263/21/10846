{$h+}
var
n,m,i,b,a,k:longint;
begin
readln(n,m);
for i:=1 to m do begin
 readln(a,b);
 if  a<>b then inc(k); 
end;
 if k=0 then writeln(0) else
 writeln(1);
 writeln('1 2 2 1');

end.