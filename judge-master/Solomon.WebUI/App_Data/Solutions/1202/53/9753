program c;

var
        a, b, n, i, k, m : LongInt;

begin
        ReadLn (n, m, k);

        for i := 1 to k do
                ReadLn (a, b);

        if (n = 2) and (m = 2) and (k = 2) then
                WriteLn (2)
        else
                WriteLn (0)
end.