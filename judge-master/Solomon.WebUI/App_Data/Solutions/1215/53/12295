var a:array[0..101,0..101] of byte;
i,k,j,t,m,n:integer;

Function SOS(i1,j1:integer):integer;//название странное, не спорю
begin
a[i1,j1]:=1; Sos:=1;//было бы правильнее использовать процедуру, но я не помню что там с фактическими параметрами, и вообще не люблю их, поэтому значение функции ничего не означает)
if a[i1+1,j1]=0 then SOS(i1+1,j1);// для каждой клетки проверяем, если есть соседняя клетка, котоую не вырезали, и она еще не принадлежит куску, 
if a[i1,j1+1]=0 then SOS(i1,j1+1);//то присваиваем ей единичку и смотрим соседей этой клетки
if a[i1-1,j1]=0 then SOS(i1-1,j1);//повторяем до тех пор, пока вокруг клеток не останутся лишь вырезанные и граничные клетки со значением 2
if a[i1,j1-1]=0 then SOS(i1,j1-1);
end;


begin
read(m,n,k);
for i:=1 to k do begin read(j,t);a[t,j]:=2;end;//вырезанным клеткам присваиваем значение 2

for j:=1 to n do a[m+1,j]:=2;//также присваиваем значение 2 всем клеткам, вокруг заданного поля, надеюсь, ты понимаешь зачем)

for j:=1 to m+1 do a[j,n+1]:=2;

for i:=0 to m+1 do a[i,0]:=2;

for j:=0 to n+1 do a[0,j]:=2;

k:=0;//количество кусков
for i:=1 to m do 
for j:=1 to n do 	if a[i,j]=0 then 

				begin 
				k:=k+1;
				t:=SOS(i,j);
				end;
write(k);

end.